---
title: Subscribing to and querying Event Streams
id: subscribing-to-event-streams
hide_title: false
hide_table_of_contents: false
sidebar_label: Subscribing to Event Streams
keywords: [how-to-guide, event streams]
description: How-to-guide for subscribing to event streams
image: /images/defaults/default.svg
---

import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'

<Tabs
  groupId="sdk"
  defaultValue={"pond"}
  values={[
    { label: 'Pond', value: 'pond' },
    { label: 'JS/TS SDK', value: 'js-ts-sdk' },
    { label: 'Rust SDK', value: 'rust-sdk' },
  ]}
>


<TabItem value="pond">

</TabItem>
<TabItem value="js-ts-sdk">

```typescript
import { Client, Subscription } from '@actyx/os-sdk'

const ActyxOS = Client()

// callback style
ActyxOS.eventService.subscribe({
  subscriptions: Subscription.everything(),
  onEvent: (event) => {
    console.log('got event', event)
  },
})

// stream style
const eventStream = ActyxOS.eventService.subscribeStream({
  subscriptions: Subscription.everything(),
})
for await (const event of eventStream) {
  console.log('got event', event)
}
```

</TabItem>
<TabItem value="rust-sdk">

```rust
use actyxos_sdk::event_service::{EventService, EventServiceError, Order, Subscription};
use actyxos_sdk::semantics;
use futures::stream::StreamExt;

#[tokio::main]
pub async fn main() -> Result<(), EventServiceError> {
    // client for locally running ActyxOS Event Service
    let service = EventService::default();

    // retrieve largest currently known event stream cursor
    let offsets = service.get_offsets().await?;

    // all events matching the given subscription
    // sorted backwards, i.e. youngest to oldest
    let sub = vec![Subscription::wildcard(semantics!("MyFish"))];
    let mut events = service
        .query_upto(offsets, sub, Order::LamportReverse)
        .await?;

    // print out the payload of each event
    // (cf. Payload::extract for more options)
    while let Some(event) = events.next().await {
        println!("{}", event.payload.json_value());
    }
    Ok(())
}
```

</TabItem>
</Tabs>