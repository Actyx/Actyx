---
title: Event Service API Reference
id: Test API Reference
hide_title: false
hide_table_of_contents: true
sidebar_label: Event Service API
keywords: [explanation, test]
description: Explanation guide for tests
image: /images/os/js-sdk.png
---

import { APIReference } from '../src/components/APIReference.tsx'
import Markdown from 'react-markdown'
import mdContent from '../code-samples/test.tsx'
import renderer from '../src/components/Renderer.tsx'

This is a reference page for the ActyxOS **Event API**.

The Event Service HTTP API provides local access to the Event Service, allowing you to

- [get the node ID](#get-node-id)
- [get information about known offsets](#get-information-about-known-offsets),
- [query event streams](#query-event-streams),
- [subscribe to event streams](#subscribe-to-event-streams),
- [subscribe to event streams monotonically](#subscribe-to-event-streams-monotonically); and,
- [publish events](#publish-events)

It is reachable at the following base URI: `http://localhost:4454/api/v2/events`.

:::info Pretty printed JSON
JSON used in the examples below is pretty-printed with [jq](https://stedolan.github.io/jq/). This is only to make it more readable here. In reality, the Event Service API does not return pretty-printed JSON but the usual compact JSON you know from any other service.
:::

## Prerequisites

Communication with the Event Service needs to be authenticated. Therefore an authorization token which is associated with the requesting app needs to be retrieved by the node. This token then needs to be passed in the `Authorization` header with every request to the Event Service. In the following examples we will use the `$AUTH_TOKEN` environment variable which can be initialized with

```bash
export AUTH_TOKEN="$(curl -s localhost:4457/api/v0/apps/example_app/token | jq -r '.Ok')"
```

While the following examples use [cURL](https://curl.se/) other command-line or graphical tools (e.g. [Postman](https://www.postman.com/product/api-client/)) would work as well.

## Getting information about known offsets

<APIReference code={mdContent}></APIReference>

## Introduction to the Actyx Platform

> What is this looking like?
> This is a quote i believe

<!-- truncate -->

The Actyx platform is an application platform for developing, deploying, running and monitoring local-first applications, such as factory automation on the shop-floor where utmost reliability is required.
With the Actyx platform we bring a modern development experience to this space and provide you with the software and tools that enable you to build better solutions faster.

:::info
And this is a callout
:::

On the Actyx platform, your applications run directly on the edge without the need for a centralized IT infrastructure.
Every part of the process that you want to digitally connect — be it a machine, a robot, a worker or an ERP system — receives an edge device.
The business logic runs directly on these edge devices and communication happens in a peer-to-peer fashion.
This architectural decision enables us to provide a set of non-functional guarantees that are hard to achieve in an even partly centralized system.

```typescript
import { Client, EventDraft } from '@actyx/os-sdk'

const ActyxOS = Client()

// callback style
ActyxOS.eventService.publish({
  eventDrafts: EventDraft.make('mySemantics', 'myName', { foo: 'bar' }),
  onDone: () => {
    console.log(`Published`)
  },
})

// promise style
await ActyxOS.eventService.publishPromise({
  eventDrafts: EventDraft.make('mySemantics', 'myName', { foo: 'bar' }),
})
```

Solutions that run on the Actyx platform can stay operational in the face of component failures and even when parts of the system are disconnected — down to individual devices — and can keep making progress.
In a setting like a factory or hospital with extremely high uptime requirements such resilience is a significant advantage.

## Another second level headline

With the Actyx platform we also support you along the entire application lifecycle.
On the Actyx platform you develop your applications using the software abstractions that our distributed middleware provides without needing to worry about setting up databases or message buses.
Our suite of developer tools supports you with packaging and deploying your applications directly to edge devices.

### Maybe a third level headline

On the edge devices your applications are reliably run in the application runtimes that we provide and can be monitored without needing to set up any additional tools.

And this is just the beginning.
As we continue developing the Actyx platform we will take more and more things off your shoulders.
From providing ready made application components to improving the tools that you use to develop, deploy and monitor your applications we work hard to move the development experience forward.

Please also feel free to check out [this video](https://www.youtube.com/watch?v=T36Gsae9woo) which provides a more visual introduction into some of the core features of the Actyx platform.
