{
  "$schema": "http://json-schema.org/draft-06/schema#",
  "definitions": {
    "ActivitiesManagementColumnConfig": {
      "anyOf": [
        {
          "properties": {
            "columns": {
              "$ref": "#/definitions/VirtualizedActivitiesGridColumnsConfig"
            },
            "type": {
              "enum": [
                "virtual"
              ],
              "type": "string"
            }
          },
          "type": "object"
        },
        {
          "properties": {
            "columns": {
              "$ref": "#/definitions/ActivitiesColumnTypes"
            },
            "type": {
              "enum": [
                "normal"
              ],
              "type": "string"
            }
          },
          "type": "object"
        }
      ],
      "default": {
        "type": "normal",
        "columns": [
          "DescriptionFactoryRecognizer",
          "Status"
        ]
      }
    },
    "ActivitiesSortVariantType": {
      "enum": [
        "Description",
        "ReleasedAt",
        "ReportingNumber",
        "ScheduledEnd",
        "ScheduledStart"
      ],
      "type": "string",
      "default": "Description"
    },
    "ActivitiesTableColumnType": {
      "enum": [
        "ActivityName",
        "Article",
        "ArticleDescription",
        "CustomNowrap",
        "CustomerName",
        "Department",
        "Description",
        "DescriptionFactoryRecognizer",
        "DescriptionMaterial",
        "GroupReportingNumber",
        "OperationPosition",
        "OrderType",
        "ProcessName",
        "ReleasedAt",
        "ReportingNumber",
        "ScheduledEnd",
        "ScheduledEndDate",
        "ScheduledStart",
        "ScheduledStartDate",
        "Status",
        "TargetYield"
      ],
      "type": "string"
    },
    "ActivitiesTableColumnTypes": {
      "items": {
        "enum": [
          "ActivityName",
          "Article",
          "ArticleDescription",
          "CustomNowrap",
          "CustomerName",
          "Department",
          "Description",
          "DescriptionFactoryRecognizer",
          "DescriptionMaterial",
          "GroupReportingNumber",
          "OperationPosition",
          "OrderType",
          "ProcessName",
          "ReleasedAt",
          "ReportingNumber",
          "ScheduledEnd",
          "ScheduledEndDate",
          "ScheduledStart",
          "ScheduledStartDate",
          "Status",
          "TargetYield"
        ],
        "type": "string"
      },
      "default": [
        "DescriptionFactoryRecognizer",
        "Status"
      ],
      "type": "array"
    },
    "ActivityOverviewTabType": {
      "enum": [
        "BasketOverviewTab",
        "BillOfMaterialsTab",
        "DescriptionTab",
        "DocumentsListTab",
        "OutputMaterialsTab",
        "OverviewTab",
        "RegisterInputMaterialTab"
      ],
      "type": "string",
      "default": "OverviewTab"
    },
    "ContextTagSemantics": {
      "type": "string"
    },
    "ContextTagValue": {
      "type": [
        "string",
        "number",
        "boolean"
      ]
    },
    "DeviceEndpointConfig": {
      "properties": {
        "host": {
          "description": "Device host/port string",
          "type": "string"
        },
        "protocol": {
          "description": "Protocol. Currently just ws supported",
          "enum": [
            "ws"
          ],
          "type": "string"
        }
      },
      "type": "object"
    },
    "Locale": {
      "enum": [
        "cs",
        "de",
        "en",
        "es",
        "pl"
      ],
      "type": "string",
      "default": "en"
    },
    "Milliseconds": {
      "type": "number"
    },
    "NavigationItems": {
      "items": {
        "additionalItems": {
          "anyOf": [
            {
              "$ref": "#/definitions/ReactIntl.FormattedMessage.MessageDescriptor"
            },
            {
              "properties": {
                "semantics": {
                  "$ref": "#/definitions/ContextTagSemantics"
                },
                "value": {
                  "$ref": "#/definitions/ContextTagValue"
                }
              },
              "type": "object"
            },
            {
              "type": "string"
            }
          ]
        },
        "items": [
          {
            "$ref": "#/definitions/ReactIntl.FormattedMessage.MessageDescriptor"
          },
          {
            "properties": {
              "semantics": {
                "$ref": "#/definitions/ContextTagSemantics"
              },
              "value": {
                "$ref": "#/definitions/ContextTagValue"
              }
            },
            "type": "object"
          },
          {
            "type": "string"
          }
        ],
        "type": "array"
      },
      "type": "array"
    },
    "OrderRecognizerType": {
      "enum": [
        "ProcessId",
        "ReportingNr"
      ],
      "type": "string",
      "default": "ProcessId"
    },
    "PluginConfig": {
      "$ref": "#/definitions/PluginConfigType"
    },
    "ReactIntl.FormattedMessage.MessageDescriptor": {
      "properties": {
        "defaultMessage": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "id": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "ReadonlyArray": {
      "items": {
        "type": "string"
      },
      "type": "array"
    },
    "VirtualizedActivitiesGridColumnType": {
      "items": {
        "properties": {
          "type": {
            "$ref": "#/definitions/ActivitiesTableColumnType"
          },
          "width": {
            "type": "number"
          }
        },
        "type": "object"
      },
      "type": "array",
      "default": [
        {
          "type": "DescriptionFactoryRecognizer",
          "width": 100
        }
      ]
    },
    "ActivitiesColumnTypes": {
      "items": {
        "enum": [
          "ActivityName",
          "Article",
          "ArticleDescription",
          "CustomNowrap",
          "CustomerName",
          "Department",
          "Description",
          "DescriptionFactoryRecognizer",
          "DescriptionMaterial",
          "GroupReportingNumber",
          "OperationPosition",
          "OrderType",
          "ProcessName",
          "ReleasedAt",
          "ReportingNumber",
          "ScheduledEnd",
          "ScheduledEndDate",
          "ScheduledStart",
          "ScheduledStartDate",
          "Status",
          "TargetYield"
        ],
        "type": "string"
      },
      "type": "array"
    },
    "Reasons": {
      "type": "array",
      "items": {
        "properties": {
          "defaultMessage": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "id": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "default": []
    },
    "WorkstationTypeArray": {
      "items": {
        "properties": {
          "type": {
            "$ref": "#/definitions/WorkstationTypeName"
          },
          "workstations": {
            "$ref": "#/definitions/ReadonlyArray"
          }
        },
        "type": "object"
      },
      "type": "array",
      "default": [
        {
          "type": "normal Workstation",
          "workstations": [
            "Workstation 1",
            "Workstation 2"
          ]
        }
      ]
    },
    "ContextArray": {
      "items": {
        "properties": {
          "semantics": {
            "$ref": "#/definitions/ContextTagSemantics"
          },
          "value": {
            "$ref": "#/definitions/ContextTagValue"
          }
        },
        "type": "object"
      },
      "type": "array"
    },
    "SessionConfig": {
      "$ref": "#/definitions/SessionConfigType"
    },
    "SplashConfig": {
      "required": [
        "allowSkip",
        "enabled",
        "minSources",
        "waitForSwarmMs"
      ],
      "properties": {
        "allowSkip": {
          "description": "True if we allow the user to skip the splash screen",
          "type": "boolean"
        },
        "enabled": {
          "description": "Splash screen enabled",
          "type": "boolean"
        },
        "minSources": {
          "description": "Minimum number of sources until we consider that we got the swarm state",
          "type": "number"
        },
        "statsPeriodMs": {
          "description": "Period in which the pond stats are requested",
          "type": "number"
        },
        "waitForSwarmMs": {
          "description": "Delay until we consider that we got the swarm state",
          "type": "number"
        },
        "waitForSyncMs": {
          "description": "Delay that we allow to sync with the swarm state (leave undefined to wait indefinitely)",
          "type": "number"
        }
      },
      "type": "object",
      "default": {
        "enabled": true,
        "waitForSwarmMs": 10000,
        "minSources": 0,
        "allowSkip": true
      }
    },
    "TimeBasedProgressGranularity": {
      "enum": [
        "minutes",
        "off",
        "seconds"
      ],
      "type": "string",
      "default": "seconds"
    },
    "VirtualizedActivitiesGridColumnsConfig": {
      "$ref": "#/definitions/VirtualizedActivitiesGridColumnType"
    },
    "WorkstationTypeName": {
      "type": "string"
    },
    "WorkstationTypes": {
      "$ref": "#/definitions/WorkstationTypeArray"
    },
    "SessionConfigType": {
      "required": [
        "delay",
        "locale",
        "orderTabs"
      ],
      "properties": {
        "delay": {
          "type": "number",
          "default": 120000,
          "description": "session logout delay"
        },
        "locale": {
          "$ref": "#/definitions/Locale",
          "description": "Interface locale (lingual and cultural expectations)"
        },
        "orderTabs": {
          "description": "Tabs shown when an activity is selected ordered by ary idx",
          "items": {
            "enum": [
              "BasketOverviewTab",
              "BillOfMaterialsTab",
              "DescriptionTab",
              "DocumentsListTab",
              "OutputMaterialsTab",
              "OverviewTab",
              "RegisterInputMaterialTab"
            ],
            "type": "string"
          },
          "type": "array",
          "default": [
            "OverviewTab",
            "DescriptionTab",
            "DocumentsListTab",
            "BillOfMaterialsTab"
          ]
        }
      },
      "type": "object"
    },
    "PluginConfigType": {
      "required": [
        "demoProcessCreator",
        "navigation",
        "activities",
        "activitiesManagement",
        "activityOverviewTab",
        "activityDescriptionTab",
        "workstationType",
        "reportOutputMaterials",
        "inputMaterialLogging",
        "outputMaterialLogging",
        "interruptionSelection",
        "machineOverview",
        "parallelActivityWorking",
        "basketFromActivities",
        "connectivityStatus"
      ],
      "properties": {
        "activities": {
          "properties": {
            "columns": {
              "$ref": "#/definitions/ActivitiesTableColumnTypes"
            },
            "cutOffDays": {
              "type": "number"
            },
            "sort": {
              "$ref": "#/definitions/ActivitiesSortVariantType"
            },
            "withdrawnActivityGracePeriod": {
              "type": "number",
              "default": 5000
            }
          },
          "type": "object"
        },
        "activitiesManagement": {
          "properties": {
            "columnsConfig": {
              "$ref": "#/definitions/ActivitiesManagementColumnConfig"
            },
            "enabled": {
              "type": "boolean"
            },
            "filterByContextTagSemantics": {
              "type": "string"
            },
            "sort": {
              "$ref": "#/definitions/ActivitiesSortVariantType"
            }
          },
          "type": "object"
        },
        "activityDescriptionTab": {
          "properties": {
            "showFormFieldUpdatedByInfo": {
              "type": "boolean",
              "default": true
            }
          },
          "type": "object"
        },
        "activityOverviewTab": {
          "properties": {
            "displayOutputMachineIntegrationCard": {
              "enum": [
                "disabled",
                "enabled"
              ],
              "type": "string",
              "default": "enabled"
            },
            "interruptionReasons": {
              "$ref": "#/definitions/Reasons"
            },
            "materialLogging": {
              "enum": [
                "disabled",
                "enabled"
              ],
              "type": "string",
              "default": "disabled"
            },
            "timeBasedProgress": {
              "$ref": "#/definitions/TimeBasedProgressGranularity"
            }
          },
          "type": "object"
        },
        "basketFromActivities": {
          "properties": {
            "columns": {
              "$ref": "#/definitions/VirtualizedActivitiesGridColumnsConfig"
            },
            "sort": {
              "$ref": "#/definitions/ActivitiesSortVariantType"
            }
          },
          "type": "object"
        },
        "connectivityStatus": {
          "properties": {
            "currentPsnHistoryDelay": {
              "type": "number"
            },
            "hbHistDelay": {
              "type": "number"
            },
            "specialSources": {
              "type": "object",
              "default": {}
            },
            "updateIntervalMs": {
              "type": "number"
            }
          },
          "type": "object"
        },
        "demoProcessCreator": {
          "properties": {
            "templatesURL": {
              "type": "string"
            }
          },
          "type": "object",
          "default": {}
        },
        "inputMaterialLogging": {
          "properties": {
            "inputMaterialOrderRecognizer": {
              "$ref": "#/definitions/OrderRecognizerType"
            },
            "inputMaterialTracking": {
              "type": "boolean",
              "default": false
            }
          },
          "type": "object"
        },
        "interruptionSelection": {
          "properties": {
            "interruptionReasons": {
              "$ref": "#/definitions/Reasons"
            }
          },
          "type": "object"
        },
        "machineOverview": {
          "properties": {
            "defaultActivityOverviewTabType": {
              "$ref": "#/definitions/ActivityOverviewTabType"
            }
          },
          "type": "object"
        },
        "navigation": {
          "properties": {
            "navItems": {
              "$ref": "#/definitions/NavigationItems"
            },
            "secondaryItems": {
              "$ref": "#/definitions/NavigationItems"
            },
            "semanticsWhitelist": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "type": "object",
          "default": {
            "navItems": [],
            "secondaryItems": [],
            "semanticsWhitelist": []
          }
        },
        "outputMaterialLogging": {
          "properties": {
            "outputMaterialTracking": {
              "type": "boolean",
              "default": false
            },
            "partialScrapLogging": {
              "type": "boolean",
              "default": false
            },
            "requireInputMaterialReadiness": {
              "type": "boolean",
              "default": false
            }
          },
          "type": "object"
        },
        "parallelActivityWorking": {
          "type": "boolean",
          "default": false
        },
        "reportOutputMaterials": {
          "properties": {
            "scrapReasons": {
              "$ref": "#/definitions/Reasons"
            }
          },
          "type": "object"
        },
        "returnBay": {
          "properties": {
            "defaultReturnValue": {
              "type": "number"
            },
            "validDigits": {
              "type": "number"
            }
          },
          "type": "object"
        },
        "userOverview": {
          "properties": {
            "requireCardSwipe": {
              "type": "boolean",
              "default": true
            }
          },
          "type": "object"
        },
        "userPromptOnMachineState": {
          "properties": {
            "idleTimeout": {
              "$ref": "#/definitions/Milliseconds"
            },
            "interruptedTimeout": {
              "$ref": "#/definitions/Milliseconds"
            }
          },
          "type": "object"
        },
        "workstationType": {
          "properties": {
            "overrideWorkstationSwitch": {
              "description": "Enable immediate switch of a workstation.\nSet to `false` for a terminal where activities management is performed.",
              "type": "boolean",
              "default": false
            },
            "workstationTypes": {
              "$ref": "#/definitions/WorkstationTypes"
            }
          },
          "type": "object"
        }
      },
      "type": "object"
    }
  },
  "properties": {
    "allowManualLogin": {
      "type": "boolean",
      "default": false
    },
    "deviceEndpoint": {
      "$ref": "#/definitions/DeviceEndpointConfig",
      "description": "optional connection to android shell app or other hardware interface"
    },
    "factory": {
      "description": "Identifier for the factory-specific configuration",
      "type": "string"
    },
    "initializeTerminalFish": {
      "description": "Initial terminal context",
      "properties": {
        "tags": {
          "$ref": "#/definitions/ContextArray"
        }
      },
      "type": "object"
    },
    "machinesByWorkstationId": {
      "type": "object",
      "description": "At which workstations which machines are available",
      "default": {}
    },
    "plugin": {
      "$ref": "#/definitions/PluginConfig",
      "description": "Goldberg plugins"
    },
    "session": {
      "$ref": "#/definitions/SessionConfig",
      "description": "session fish config"
    },
    "splash": {
      "$ref": "#/definitions/SplashConfig",
      "description": "Splash screen config"
    }
  },
  "type": "object",
  "required": [
    "session",
    "plugin",
    "splash",
    "machinesByWorkstationId"
  ]
}
